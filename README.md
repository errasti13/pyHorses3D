# pyHorses3D

## Overview

pyHorses3D is a Python package designed for the analysis and visualization of computational fluid dynamics (CFD) simulation results generated by the Horses3D solver. This package provides tools to load, process, and visualize various properties of the CFD solution data.

## Key Features

- Control file management (create, edit, save)
- Run Horses3D solver directly from Python
- Load and process solution data
- Compute derived quantities (velocity, pressure, temperature, Mach number, etc.)
- Advanced visualization capabilities (2D slices, streamlines, iso-surfaces)
- Time evolution analysis
- Windows/WSL compatibility

## Prerequisites

To use pyHorses3D, you need to have a working installation of Horses3D solver. Make sure you have Horses3D installed and configured properly on your system before using this package.

## Installation

You can install pyHorses3D from this repository. Clone the repository to your local machine:

```bash
git clone https://github.com/yourusername/pyHorses3D.git
cd pyHorses3D
pip install -e .
```

## Quick Start

```python
from pyHorses3d import Horses3D

# Path to Horses3D solver and control file
solver_path = '/path/to/horses3d/executable'
control_file = 'your_simulation.control'

# Create solver interface
solver = Horses3D(solver_path, control_file)

# Load control file settings
solver.control.loadControlFile()

# Modify parameters if needed
solver.control.set_parameter('Reynolds number', '1600.0')
solver.control.set_parameter('Polynomial order', '4')

# Run the simulation
solver.runHorses3D(plotResiduals=True)

# Get solution files
solution_files = solver.getSolutionFileNames()

# Load the most recent solution
solver.solution.loadSingleSolution(solution_files[-1])

# Compute derived quantities
solver.solution.computeVelocityMagnitude(0)
solver.solution.computePressure(0)
solver.solution.computeMach(0)

# Load the mesh
mesh_files = solver.getHMeshFileName()
solver.mesh.loadMesh(mesh_files[0])

# Create visualizations
solver.plot.modifyMagnitudes(solver.solution.magnitudes)

# Plot velocity field
solver.plot.plot2DField(solver.mesh.mesh[0], solver.solution.solution[0], 'V', 
                       plane='XY', value=0, cmap='jet', isocontours=True)

# Plot streamlines
solver.plot.plot2DStreamlines(solver.mesh.mesh[0], solver.solution.solution[0], 
                             plane='XY', value=0, cmap='cool')
```

## Using the Examples Module

pyHorses3D comes with an examples module that provides ready-to-use workflows:

```python
from pyHorses3d import examples

# Setup and run a Taylor-Green vortex simulation
examples.full_workflow_example('TaylorGreen_HO.control', '/path/to/horses3d')

# Or use individual functions
solver = examples.setup_taylor_green_vortex('TaylorGreen_HO.control', '/path/to/horses3d')
examples.run_simulation_and_visualize(solver)
```

## Windows/WSL Compatibility

If you're running on Windows with WSL (Windows Subsystem for Linux), pyHorses3D can handle path conversion for you. Just provide the WSL path to the solver:

```python
# WSL path format
solver_path = '/mnt/c/path/to/horses3d/executable'
```

## Module Overview

The package consists of several modules:

- **horses3d.py**: Main interface with the solver
- **control.py**: Manage control file parameters
- **solution.py**: Process solution data
- **mesh.py**: Handle mesh data
- **plot.py**: Create visualizations
- **examples.py**: Ready-to-use example workflows

## License

[Add your license information here]

## Contributing

Contributions are welcome! Please feel free to submit a Pull Request.

## Contact

[Add your contact information here]

